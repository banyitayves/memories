<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MQF & MKF - Our Memory Treasury</title>
    <link rel="stylesheet" href="styles.css">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js"></script>
</head>
<body>
    <div class="background-animation"></div>
    
    <!-- LOGIN PAGE -->
    <div id="loginPage" class="login-page">
        <div class="login-container">
            <h1>ğŸ’• MQF & MKF ğŸ’•</h1>
            <p class="login-subtitle">Our Memory Treasury of Love</p>
            
            <div class="login-box">
                <h2>Welcome Back!</h2>
                <p class="login-message">Sign in to access your memory vault</p>
                
                <form id="loginForm" onsubmit="handleLogin(event)">
                    <div class="login-input-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" placeholder="Enter your username" required>
                    </div>
                    
                    <div class="login-input-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" placeholder="Enter your password" required>
                    </div>
                    
                    <button type="submit" class="login-btn">Login</button>
                    <p id="loginError" class="login-error"></p>
                </form>
                
                <div class="demo-info" style="display: none;">
                    <p>ğŸ’¡ Demo Accounts:</p>
                    <p>NSHIMIYIMANA Yves (Him): 0791756160 / MKFLOVE</p>
                    <p>TUYISHIME Yvonne Faida (Her): 0794780083 / MQFLOVE</p>
                </div>
                
                <p class="login-note">ğŸ’‘ Your memories are safe and shared between you two ğŸ’‘</p>
            </div>
        </div>
    </div>

    <!-- MAIN APP -->
    <div id="mainApp" class="main-app" style="display: none;">
        <div class="container">
            <!-- Notification Area -->
            <div id="notificationArea" class="notification-area"></div>
            
            <!-- Header -->
            <header class="header">
                <div class="header-content">
                    <div class="header-top">
                        <h1 class="title">ğŸ’• NSHIMIYIMANA Yves & TUYISHIME Yvonne Faida ğŸ’•</h1>
                        <div class="header-actions">
                            <button class="notification-btn" onclick="clearNotifications()">
                                ğŸ”” Notifications
                                <span id="notificationBadge" class="notification-badge" style="display: none;"></span>
                            </button>
                            <button class="logout-btn" onclick="logout()">Logout</button>
                        </div>
                    </div>
                    <p class="kinyarwanda-message">ğŸ‡·ğŸ‡¼ NDAGUKUNDA LOVE, KANDI UJYE UHORA UBYIBUKA, URUKUNDO RWACU RUZABA ISOMO RIZATANGWA MU MASHURI ğŸ‡·ğŸ‡¼</p>
                    <p class="subtitle">Our Memory Treasury of Love</p>
                    <p class="user-info" id="userInfo"></p>
                    <p class="user-info" id="cloudSyncStatus" style="font-size: 0.9em; color: #888; margin-top: 5px;"></p>
                    <p class="romantic-quote">"In every moment with you, I find a thousand reasons to smile"</p>
                </div>
            </header>

        <!-- Daily Romantic Message -->
        <section id="dailyMessageArea" class="daily-message-section"></section>

        <!-- Romantic Message -->
        <section class="romantic-section">
            <div class="love-message">
                <h2>âœ¨ Our Story âœ¨</h2>
                <p>Every photo, every video is a precious moment frozen in time. Together, we've created memories that shine brighter than the stars. This is our sacred space to cherish and protect every beautiful moment we share.</p>
            </div>
        </section>

        <!-- Upload Section -->
        <section class="upload-section">
            <div class="upload-box">
                <h2>ğŸ“¸ Add Your Precious Moments ğŸ“¹</h2>
                <div class="upload-area" id="uploadArea">
                    <div class="upload-placeholder">
                        <p>ğŸ’‘ Drag and drop your photos/videos here</p>
                        <p class="or-text">or</p>
                        <button class="upload-btn" id="uploadBtn">Click to Upload</button>
                    </div>
                </div>
                <input type="file" id="fileInput" multiple accept="image/*,video/*" style="display: none;">
                <div class="upload-progress" id="uploadProgress" style="display: none;">
                    <div class="progress-bar" id="progressBar"></div>
                    <p id="uploadStatus"></p>
                </div>
            </div>

            <!-- Storage Info -->
            <div class="storage-info">
                <h3>ğŸ’¾ Storage Status</h3>
                <div class="storage-bar">
                    <div class="storage-used" id="storageUsed"></div>
                </div>
                <p id="storageText">Used: 0 MB / Available: Storage Unlimited</p>
            </div>
        </section>

        <!-- Memories Gallery -->
        <section class="gallery-section">
            <h2>ğŸŒ¹ Our Memory Gallery ğŸŒ¹</h2>
            
            <!-- Filter Options -->
            <div class="filter-options">
                <button class="filter-btn active" data-filter="all">All Memories</button>
                <button class="filter-btn" data-filter="image">Photos</button>
                <button class="filter-btn" data-filter="video">Videos</button>
            </div>

            <!-- Gallery Grid -->
            <div class="gallery" id="gallery">
                <div class="empty-gallery">
                    <p>ğŸ’­ No memories yet. Start creating your treasury of love!</p>
                </div>
            </div>
        </section>

        <!-- Romantic Quotes Section -->
        <section class="quotes-section">
            <h3>ğŸ’Œ Words of Love</h3>
            <div class="quotes-container">
                <div class="quote-card">
                    <p>"You are my favorite notification"</p>
                </div>
                <div class="quote-card">
                    <p>"With you, I found my forever"</p>
                </div>
                <div class="quote-card">
                    <p>"Every day with you is my favorite day"</p>
                </div>
                <div class="quote-card">
                    <p>"You make my heart skip a beat"</p>
                </div>
            </div>
        </section>

        <!-- DOCUMENTS SECTION -->
        <section class="documents-section">
            <h2>ğŸ“„ Our Documents & Files ğŸ“„</h2>
            
            <div class="upload-box">
                <h3>ğŸ“¤ Upload Documents</h3>
                <div class="doc-upload-area" id="docUploadArea">
                    <div class="upload-placeholder">
                        <p>ğŸ“‹ Drag documents here</p>
                        <p class="or-text">or</p>
                        <button class="upload-btn" id="docUploadBtn">Click to Upload</button>
                    </div>
                </div>
                <input type="file" id="docFileInput" multiple style="display: none;">
            </div>

            <div class="documents-grid" id="documentsGrid">
                <p style="text-align: center; color: var(--dark-text);">ğŸ“­ No documents yet. Upload your files!</p>
            </div>
        </section>

        <!-- CHAT SECTION -->
        <section class="chat-section">
            <h2>ğŸ’¬ Our Love Chat ğŸ’¬</h2>
            <div class="chat-container">
                <div class="chat-messages" id="chatMessages">
                    <div class="chat-welcome">
                        <p>ğŸ’• Start our beautiful conversation ğŸ’•</p>
                    </div>
                </div>
                <div class="chat-input-area">
                    <input type="text" id="chatInput" placeholder="Share your thoughts with your love... ğŸ’˜" class="chat-input">
                    <button id="sendBtn" class="send-btn">Send ğŸ’Œ</button>
                </div>
            </div>
        </section>

        <!-- ROMANTIC VIDEOS SECTION -->
        <section class="romantic-videos-section">
            <h2>ğŸ’‹ Romantic Videos ğŸ’‹</h2>
            <p class="section-subtitle">Beautiful moments to watch together</p>
            
            <div class="videos-container" id="videosContainer">
                <!-- Video 1: Kissing Scene -->
                <div class="video-card">
                    <div class="video-thumbnail">
                        <div class="video-overlay">
                            <button class="play-button" onclick="playVideo('kissing')">â–¶ï¸</button>
                        </div>
                        <p class="video-title">ğŸ’‹ Romantic Kiss</p>
                    </div>
                    <p class="video-description">A tender romantic kiss</p>
                </div>

                <!-- Video 2: Couple Moment -->
                <div class="video-card">
                    <div class="video-thumbnail">
                        <div class="video-overlay">
                            <button class="play-button" onclick="playVideo('couple')">â–¶ï¸</button>
                        </div>
                        <p class="video-title">ğŸ‘« Couple Moments</p>
                    </div>
                    <p class="video-description">Sweet couple time together</p>
                </div>

                <!-- Video 3: Sunset Romance -->
                <div class="video-card">
                    <div class="video-thumbnail">
                        <div class="video-overlay">
                            <button class="play-button" onclick="playVideo('sunset')">â–¶ï¸</button>
                        </div>
                        <p class="video-title">ğŸŒ… Sunset Romance</p>
                    </div>
                    <p class="video-description">Beautiful sunset moments</p>
                </div>

                <!-- Video 4: Dance Together -->
                <div class="video-card">
                    <div class="video-thumbnail">
                        <div class="video-overlay">
                            <button class="play-button" onclick="playVideo('dance')">â–¶ï¸</button>
                        </div>
                        <p class="video-title">ğŸ’ƒ Dance Together</p>
                    </div>
                    <p class="video-description">Dancing to romantic music</p>
                </div>

                <!-- Video 5: Bedroom Romance -->
                <div class="video-card">
                    <div class="video-thumbnail">
                        <div class="video-overlay">
                            <button class="play-button" onclick="playVideo('bed')">â–¶ï¸</button>
                        </div>
                        <p class="video-title">ğŸ›ï¸ Intimate Moments</p>
                    </div>
                    <p class="video-description">Intimate and passionate moments</p>
                </div>

                <!-- Video 6: Nature Romance -->
                <div class="video-card">
                    <div class="video-thumbnail">
                        <div class="video-overlay">
                            <button class="play-button" onclick="playVideo('nature')">â–¶ï¸</button>
                        </div>
                        <p class="video-title">ğŸŒ² Nature Romance</p>
                    </div>
                    <p class="video-description">Romance in beautiful nature</p>
                </div>
            </div>
        </section>

        <!-- ROMANTIC MUSIC SECTION -->
        <section class="romantic-music-section">
            <h2>ğŸµ Romantic Songs ğŸµ</h2>
            <p class="section-subtitle">Love songs for our special moments</p>
            
            <div class="music-player-main" id="musicPlayerMain">
                <div class="music-now-playing">
                    <div class="album-art" id="albumArt">â™¥ï¸</div>
                    <div class="song-info">
                        <h3 id="currentSongName">Select a song...</h3>
                        <p id="currentSongArtist">Choose from our romance playlist</p>
                    </div>
                </div>
                
                <div class="music-player-controls">
                    <audio id="audioPlayer" style="width: 100%;"></audio>
                </div>
            </div>

            <div class="songs-playlist">
                <h3>ğŸ’• Our Love Playlist</h3>
                <div class="songs-list" id="songsList">
                    <!-- Song 1 -->
                    <div class="song-item" onclick="playSong(0)">
                        <div class="song-number">1</div>
                        <div class="song-details">
                            <p class="song-name">Perfect</p>
                            <p class="song-artist">Ed Sheeran</p>
                        </div>
                        <span class="duration">4:23</span>
                    </div>

                    <!-- Song 2 -->
                    <div class="song-item" onclick="playSong(1)">
                        <div class="song-number">2</div>
                        <div class="song-details">
                            <p class="song-name">All of Me</p>
                            <p class="song-artist">John Legend</p>
                        </div>
                        <span class="duration">3:51</span>
                    </div>

                    <!-- Song 3 -->
                    <div class="song-item" onclick="playSong(2)">
                        <div class="song-number">3</div>
                        <div class="song-details">
                            <p class="song-name">Thinking Out Loud</p>
                            <p class="song-artist">Ed Sheeran</p>
                        </div>
                        <span class="duration">4:58</span>
                    </div>

                    <!-- Song 4 -->
                    <div class="song-item" onclick="playSong(3)">
                        <div class="song-number">4</div>
                        <div class="song-details">
                            <p class="song-name">Total Eclipse of the Heart</p>
                            <p class="song-artist">Bonnie Tyler</p>
                        </div>
                        <span class="duration">5:18</span>
                    </div>

                    <!-- Song 5 -->
                    <div class="song-item" onclick="playSong(4)">
                        <div class="song-number">5</div>
                        <div class="song-details">
                            <p class="song-name">When I Was Your Man</p>
                            <p class="song-artist">Bruno Mars</p>
                        </div>
                        <span class="duration">4:34</span>
                    </div>

                    <!-- Song 6 -->
                    <div class="song-item" onclick="playSong(5)">
                        <div class="song-number">6</div>
                        <div class="song-details">
                            <p class="song-name">Make You Feel My Love</p>
                            <p class="song-artist">Adele</p>
                        </div>
                        <span class="duration">3:22</span>
                    </div>

                    <!-- Song 7 -->
                    <div class="song-item" onclick="playSong(6)">
                        <div class="song-number">7</div>
                        <div class="song-details">
                            <p class="song-name">Love Me Like You Do</p>
                            <p class="song-artist">Ellie Goulding</p>
                        </div>
                        <span class="duration">3:23</span>
                    </div>

                    <!-- Song 8 -->
                    <div class="song-item" onclick="playSong(7)">
                        <div class="song-number">8</div>
                        <div class="song-details">
                            <p class="song-name">Shape of You</p>
                            <p class="song-artist">Ed Sheeran</p>
                        </div>
                        <span class="duration">3:53</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- GAMES SECTION -->
        <section class="games-section">
            <h2>ğŸ® Romantic Games ğŸ®</h2>
            
            <div class="games-grid">
                <!-- Game 1: Love Questions -->
                <div class="game-card" onclick="startGame('questions')">
                    <div class="game-icon">â“</div>
                    <h3>Love Questions</h3>
                    <p>Answer romantic questions about each other</p>
                    <button class="game-btn">Play Now</button>
                </div>

                <!-- Game 2: Memory Match -->
                <div class="game-card" onclick="startGame('memory')">
                    <div class="game-icon">ğŸ²</div>
                    <h3>Memory Match</h3>
                    <p>Match pairs and beat your best time</p>
                    <button class="game-btn">Play Now</button>
                </div>

                <!-- Game 3: Love Roulette -->
                <div class="game-card" onclick="startGame('roulette')">
                    <div class="game-icon">ğŸ¡</div>
                    <h3>Love Roulette</h3>
                    <p>Spin and complete fun romantic challenges</p>
                    <button class="game-btn">Play Now</button>
                </div>

                <!-- Game 4: Quiz -->
                <div class="game-card" onclick="startGame('quiz')">
                    <div class="game-icon">ğŸ§ </div>
                    <h3>Love Quiz</h3>
                    <p>Test how well you know each other</p>
                    <button class="game-btn">Play Now</button>
                </div>

                <!-- MULTIPLAYER GAMES SECTION -->
                <div style="grid-column: 1/-1; margin-top: 20px; padding-top: 20px; border-top: 2px solid rgba(255, 105, 180, 0.3); text-align: center;">
                    <h3 style="color: #ff69b4; margin-bottom: 15px;">ğŸ‘¥ Play Together (Multiplayer) ğŸ‘¥</h3>
                </div>

                <!-- Game 5: Tic Tac Toe -->
                <div class="game-card" onclick="startMultiplayerGame('tictactoe')">
                    <div class="game-icon">ğŸ®</div>
                    <h3>Tic Tac Toe</h3>
                    <p>Classic battle of strategy and wits</p>
                    <button class="game-btn">Play Now</button>
                </div>

                <!-- Game 6: Rock Paper Scissors -->
                <div class="game-card" onclick="startMultiplayerGame('rockpaper')">
                    <div class="game-icon">ğŸª</div>
                    <h3>Rock Paper Scissors</h3>
                    <p>Best of 3 rounds - test your luck!</p>
                    <button class="game-btn">Play Now</button>
                </div>

                <!-- Game 7: Truth or Dare -->
                <div class="game-card" onclick="startMultiplayerGame('truthdare')">
                    <div class="game-icon">ğŸ’•</div>
                    <h3>Truth or Dare</h3>
                    <p>Get to know each other better</p>
                    <button class="game-btn">Play Now</button>
                </div>

                <!-- Game 8: Word Match -->
                <div class="game-card" onclick="startMultiplayerGame('wordmatch')">
                    <div class="game-icon">ğŸ¯</div>
                    <h3>Word Match</h3>
                    <p>Romantic word matching game</p>
                    <button class="game-btn">Play Now</button>
                </div>
            </div>
        </section>

        <!-- GAME MODAL -->
        <div class="game-modal" id="gameModal">
            <div class="game-modal-content">
                <button class="close-game-btn" onclick="closeGame()">&times;</button>
                <div id="gameContainer"></div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>ğŸ¥° Built with love for us ğŸ¥°</p>
            <p id="dateDisplay"></p>
        </footer>
        </div>
    </div>

    <!-- Permission Modal -->
    <div class="permission-modal" id="permissionModal">
        <div class="permission-modal-content">
            <h3>ğŸ” Permission Request</h3>
            <p class="permission-text"></p>
            <div class="permission-buttons">
                <button class="permission-btn-allow" id="permAllowBtn">âœ… Allow</button>
                <button class="permission-btn-deny" id="permDenyBtn">âŒ Deny</button>
            </div>
        </div>
    </div>

    <!-- Image Viewer Modal -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <button class="close-btn">&times;</button>
            <button class="delete-btn" id="deleteBtn">ğŸ—‘ï¸ Delete This Memory</button>
            <div class="modal-body" id="modalBody"></div>
            <div class="modal-nav">
                <button class="prev-btn">&lt; Previous</button>
                <button class="next-btn">Next &gt;</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
